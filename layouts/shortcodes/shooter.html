{{- $id := .Get "id" | default (printf "shooter-%d" now.UnixNano) -}}
<div
  id="{{ $id }}"
  class="shooter-embed"
  data-strategy="{{ .Get "strategy" | default "burst" }}"
  data-count="{{ .Get "count" | default 3 }}"
  data-spread="{{ .Get "spread" | default 0.785398 }}"
  style="max-width: 680px; margin: 1rem auto;"
></div>

{{- if not (.Page.Scratch.Get "shooter-script-included") -}}
  {{- $ts := resources.Get "js/shooter.ts" | js.Build (dict
    "minify" true
    "target" "es2018"
    "format" "iife") | fingerprint "sha512" -}}
  <script defer src="{{ $ts.RelPermalink }}" integrity="{{ $ts.Data.Integrity }}" crossorigin="anonymous"></script>
  {{- .Page.Scratch.Set "shooter-script-included" true -}}
{{- end -}}
